
TODO
- need to add layers/depth to all g2d drawers
- lisa playback options
    - add reverb
    - pitchshift
    - change playrateQ
- start room
    - fire oneshot should only play until end_rec pos
- placement room
    - add pitshift or change rate on losers?
- hot potato game
    - let players record a driving/engine sample
        - use this for granular synthesis lmao
- audiovisuals
    - maybe have a waveform display in each game for when a player's SFX triggers
- g2d
    - look at imgui drawlist impl, can we steal...

# Stages/Modes
- start room
    - maybe record different audio samples for different conditions
        - victory audio
        - hurt audio
        - loss audio
    - include some pre-recorded ones too, like "dope" for defaults
        - all tracks should have a default
- racetrack
    - simple indie500 shape, but add obstacles
    - first to finish wins
- platformer, jump over the gaps to get to other side
    - if you fall off, respawn at start
    - mic level moves forward (can't move backwards lol)
    - any key to jump
    - procedurally generate
    - allow multiple "winners" if multiple get to end platform on same frame
- flappy bird side scroll dodge
    - volume makes you go up
    - gravity naturally pulls you down
- spin the wheel 
    - all players are connected as spokes on a wheel
    - making sound rotates the wheel in a fixed direction
    - if you are on X side at Y time, you die...
- raft going up, dodge obstacles coming down
    - maybe use spectrum centroid for this one--higher goes right, lower goes left
    - visualize spectrum at bottom of screen?
- hot potato
    - volume burns down /accelerates the fuse 
    - what if there are multiple bombs?
    - or maybe the person with bomb is fast and has to tag the others to pass it on
        - makes sense then why people would be yelling, to trigger bomb-holder to explode
    - q: do you get to pick who you throw it to? or is the target player random? 
    - design q: do we show the remaining time on the bomb? or is it random / invisible?
        - probably not, then it's just a reaction speed check
- using waveform: running down a zipline
    - maybe waveform produces obstacles on zipline you have to jump over to dodge
    - like that procedurally-animated monkey game
        - https://www.youtube.com/watch?v=KCKdGlpsdlo
- sound pumps/fills a balloon...
    - the person who pops the balloon is eliminated
- something to do with visual of waveform, maybe a dodging laser game
    - side scroll, go from left to right
    - making sound above threshold activates top-down vertica lasers
- need ball pushing game (fusion frenzy sumo)
- need spin jumpy game (fusion frenzy twisted system)
    - maybe mic volume controls spin speed...
- Sports games
    - golf? make fun of how quiet it typically is. Also, unlike switch sports, no
      waiting for your turn! that's boring. Everyone is golfing / making sound at 
      same time.
        - maybe mic volume builds up your strength meter but you can choose to 
        let go any time
        - you can also hit your opponents golf balls!
        - 2D, so more like air hockey
        - the balls are large, higher chance of collision / chaos
        - triangle sprite is the aimer
        - can choose between fast, weak strokes vs few strong ones
        - might need box2d update for this...
        - should this be top down (no gravity) or side view (with gravity)?
    - Tennis? make fun of how loudly they grunt when hitting
- games that play off making loud noises in public spaces
    - studying in library
    - sneaking/sleuthing/stealth (maybe cat hunting a mouse?)
- Lip / soundwave bullet hell
    - similar to tiny towers TD
    - making sound activates bullets / towers, but those bullets damage everybody
    - loudspeaker pickup that lets you fire bullets / sound waves too
    - or maybe dodging spikes on a spectrum...
- snowball fight
    - volume charges up a snowball, can throw at enemy
- rhythm game
- a game where everyone yells at same time would be funny (like temple run) 
  but everyone is rounding corners at same time?
- doodle jump??
- microphone pickup, only the player holding the mic receives (or is immune) to the 
  effect of the audio
- timing game where you *don't* want to make sound unless its a very specific time
- inspo sources
    - fusion frenzy!
    - mario party
    - intentionally *not* playing warioware so I can explore this space as a clean slate

# Core Gameplay 
- maybe the core isn't audio, but coupling / linking / connection. The mic input is a means 
by which one player can influence the the system/controls of all players. This produces a tension
where in each mini game players are motivated to act independently and competitively, but 
are prevented from doing so exclusively because they are directly influenced by other players.
    - similar feeling to the PAX student game where each player was a turret on a ship,
    and shooting applied an impulse to the ship in the opposite direction; everyone had to
    work together to steer away from obstacles (coop) but also tried to eek out more points
    by getting most last hits on incoming asteroids (competitive)
    - the coupling mechanism doesn't have to be mic audio, it could be some in-game object or 
    triggered by pressing a controller, but mic audio is convenient because it exists across 
    game modes and independent of the particular controls of the minigame. flexible
    - interesting to explore games with the coop-competitive duality...maybe a narrative exists
    here (similar to undertale) where you initially think all the games are competitive but 
    eventually realize they are meant to be cooperative once you start questioning why 
    you are playing these games in the first place, who is controlling the system, etc.
        - but in the scale of individual games -- what games require cooperation to sustain, but
        also allow for individual victory?
- audio is a double-edged sword. because everyone shares the same mic input, leads to 
a weird coupled-chaotic system....
- maybe the key is there needs to be a tension when using audio
    - timing: you need to use audio at the right time, but that time is different for
    each player so you have to stay vigilant...
    - double-edged sword: (e.g. in arc battle) increasing volume screws your opponents over
    but it also makes the game more challenging for yourself
- every game needs to be playable by any number of players, so cannot have e.g. 2v2 type games 
- players can influence the game *after* they have died, no boring downtime while waiting
  for others to finish
- for tracking wins/points, do the simplest first:
    - just track # of wins (that way don't need to have a system for quantifying points / 
    places for lower places)
    - game ends when first player get X wins
- any game needs to be playable with just 2 keyboard keys? (for people who don't have controllers)

- can the replay mechanic somehow influence the actual gameplay?

# Mic Input (What can we reliably (or unreliably) get from mic input?)
- make a playground editor to test / visualize
- speech recognition (look @ you, Mage Arena)
- pitch tracking (?)
- volume (YES)
- spectral center (for a very rough high vs low pitch)
- hi-pass or low-pass or band-pass + any of the other features (pitch, volume, centroid)
- look at UAnas for more

# Ideas
- At the end of each stage, have an (optional) replay
    - a volume bar that starts at 50%, if you fill it up with sound it selects YES + replay, 
    else NO and move onto next stage
- coop vs competitive: is there room to have both game modes?
    - only competitive for now
- should all modes be 4 players on same screen, or in some modes does each player have own viewport?
    - simple: all on same screen. that way can support an odd number of players or > 4.

# Visuals
- remember: keep it as shitty as possible for as long as possible
- characters: 4 different colors, all triangles
    - distinguish with mic-input "sound effect" 
        - use LiSa to record your own, or select from a preset 
        (sonic equivalent of picking a skin / color theme)
        - can combine with pitshift for funny
- eventually can move to rounded/soft vector graphics with drop shadows


# resources
- more accurate movement: verlet integration
    - https://www.youtube.com/watch?v=hG9SzQxaCm8 GDC: building a better jump
    - https://web.archive.org/web/20121116064048/http://mpolney.galineer.com/index.php/Super_Meat_Boy_Physics 
        - super meat boy 
    - http://lolengine.net/blog/2011/12/14/understanding-motion-in-games
    - https://www.youtube.com/watch?v=3HjO_RGIjCU Coding math channel
    - also there are Runge-Kutta and Leapfrog integration


